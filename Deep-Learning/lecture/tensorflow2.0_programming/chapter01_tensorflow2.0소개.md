# chapter01 tensorflow2.0 소개
- tensorflow2.0 에서는 편의성과 뛰어난 성능을 모두 확보함
- 2019 9월에 tensorflow2.0 정식 버전을 내놓음

## 1.2 2.0 버전 주요 변화들
### 1.2.1 API 정리
- 2.0버전에서는 하나만 남기고 API를 모두 정리하는 방향으로 API를 간소화함
- 이전 버전 사용자의 혼란을 막기 위해 호환성 라이브러리인 `tf.compat.v1`을 제공하기 때문에 2.0 버전에서도 1.x 버전의 API를 불러올 수 있음
- <b>업그레이드 스크립트인 tf_upgrade_v1로 기존의 1.x 버전 파이썬 코드를 2.0 버전으로 자동변환 가능</b>
- 사용자가 수동으로 바꾸어야 할 코드는 `tf.nn.conv2d()` 에서 `use_cudnn_on_gpu` 인수는 더 이상 사용되지 않기 때문에 수동으로 제거해야 함

### 1.2.2 즉시 실행 모드(eager execution)
- 텐서를 계산하기 위해서는 텐서가 흐를 수 있는 공간, 그래프가 필요
- 1.x 버전에서 텐서플로를 사용한 작업은 먼저 그래프를 정의한 다음 그래프를 생성하고 그 안에서 텐서를 주고받으며 계산하는 구조
- 즉 그래프를 생성하기 전에는 그래프에 텐서 값이 존재하지 않고 텐서의 값을 계산할 수 없었음
- 즉시 실행 모드는 그래프를 생성하지 않아도 텐서를 만들고 값을 계산할 수 있게 해줌
- 1.x 버전에서는 `tf.enable_eager_execution()`로 즉시 실행 모드를 활성화해야 했지만 2.0 버전에서는 실행 모드가 처음부터 활성화되어 있음

### 1.2.3 세션 대신 함수(function, net sessions)
- 2.0 버전에서는 기존의 `tf.session` 대신 함수 앞에 `@tf.function`을 붙여 일반 연산을 그래프 연산으로 변환 가능

### 1.2.4 tf.keras
- `tf.keras`를 중심으로 한 고수준 API의 통합이 있었고, 역시 고수준 API지만 통일성 없이 작성됐던 `tf.contrib`는 삭제
- API란 프로그래밍 언어가 사용하는 모아놓은 인터페이스
- 케라스가 텐서플로의 유일한 고수준 API가 됨

### 1.2.5 TPU 지원
- TPU는 구글에서 처음부터 머신러닝과 딥러닝을 위해 설계한 하드웨어
- 구글 클라우드에서도 TPU를 쓸 수 있고, 구글 코랩에서도 런타임 유형을 TPU로 바꿔서 쉽게 사용해 볼 수 있음
- TPU는 GPU에 비해 전력 사용량이 적고, 일반적으로 32비트로 수행되는 곱셈 연산을 최적화된 16비트로 낮춘 다음 연산 수행하여 계산 속도가 빠름
- 2.1 버전부터는 분산 학습을 위한 `tf.distribute`에서 TPU를 사용하기 위한 코드인 `TPUStrategy`를 공식적으로 지원하기 때문에 TPU를 사용하기가 더욱 편리해짐

# chapter02 텐서플로 2.0 설치

## 텐서플로 2.0 설치 전 작업사항
- 윈도우 환경에서 텐서플로2.0의 GPU 사용을 위해 CUDA, CuDnn을 올바르게 설치해야 함
- 텐서플로 2.0에 맞는 CUDA 버전을 설치해야 하는데 현재 안정적으로 동작하는 버전은 10.0 버전
- CUDA 10.0 은 다음 URL에서 설치 가능(http://bit.ly/33dsXxL)
- cuDNN은 7.6.0이 텐서플로 2.0과 잘 맞음. 다음 URL에서 다운로드 가능(http://bit.ly/34or6X2)
- 텐서플로에서 필요로 하는 DLL 파일을 포함하고 있는 Microsoft Visual C++ 2015 Redistributable Update 3 x64 를 설치해야 함(http://bit.ly/2WQat4l)에서 내려받을 수 있음

## 텐서플로 2.0 설치
- `conda create -n tensorflow2 python=3.7` 명령어를 통해 tensorflow2라는 가상 환경 설정 
- 새로운 환경을 만들기 위한 의존성 라이브러리를 새롭게 받아야 함
- CPU를 사용하는 텐서플로의 라이브러리 이름은 `tensorflow`이고, GPU 가속을 사용하는 버전의 이름은 `tensorflow-gpu`임
- `tensorflow-gpu==2.0.0-alhpa0`처럼 구체적인 버전 지정 가능  
  지정하지 않으면 가장 안정적인 버전을 자동으로 다운로드함 
- 다음과 같이 추가 라이브러리 설치 가능 -> `pip install jupyter matplotlib seaborn`

## 용어 정리
- CUDA  
  - 엔비디아 그래픽 카드의 GPU에 프로그램 명령을 실행할 수 있도록 해주는 표준 소프트웨어
- cuDNN
  - 딥러닝 신경망을 위한 NVIDIA의 GPU 가속 라이브러리  
  - CUDA를 기반으로 함. 텐서플로는 cuDNN을 사용하기 때문에 GPU를 사용하려면 반드시 설치 해야함
